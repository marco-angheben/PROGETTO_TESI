(function(e){function t(t){for(var n,o,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==i[s]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"073a":function(e,t,a){"use strict";var n=a("82ae"),i=a.n(n);i.a},1012:function(e,t,a){"use strict";var n=a("ea6f"),i=a.n(n);i.a},"2a3e":function(e,t,a){"use strict";var n=a("e83c"),i=a.n(n);i.a},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"7a58":function(e,t,a){"use strict";var n=a("ba21"),i=a.n(n);i.a},"82ae":function(e,t,a){},"9c0c":function(e,t,a){},ba21:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,i,r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("site-navigation"),a("router-view")],1)},c=[],s=a("d4ec"),l=a("262e"),u=a("2caf"),d=a("9ab4"),f=a("60a3"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"site-navigation"},[a("vs-navbar",{attrs:{fixed:"","center-collapsed":"","padding-scroll":""},scopedSlots:e._u([{key:"left",fn:function(){return[a("router-link",{staticClass:"home",attrs:{to:"/home"},nativeOn:{click:function(t){e.active=e.Page.HOME}}},[e._v("Home")])]},proxy:!0}]),model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("vs-navbar-item",{staticStyle:{display:"none"},attrs:{active:e.active===e.Page.HOME}},[e._v(" Home ")]),a("vs-navbar-item",{attrs:{active:e.active===e.Page.SUBMIT_IMAGE,to:"/submit-image",id:e.Page.SUBMIT_IMAGE}},[e._v(" Submit image ")]),a("vs-navbar-item",{attrs:{active:e.active===e.Page.SUBMIT_VIDEO,to:"/submit-video",id:e.Page.SUBMIT_VIDEO}},[e._v(" Submit video ")])],1)],1)},v=[];(function(e){e["HOME"]="HOME",e["SUBMIT_VIDEO"]="SUBMIT_VIDEO",e["SUBMIT_IMAGE"]="SUBMIT_IMAGE"})(n||(n={})),function(e){e["FILE_SELECTING"]="FILE_SELECTING",e["FILE_SELECTED"]="FILE_SELECTED",e["FILE_UPLOADING"]="FILE_UPLOADING",e["FILE_UPLOADED"]="FILE_UPLOADED"}(i||(i={}));var b=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.active=n.HOME,e.Page=n,e}return a}(f["b"]);b=Object(d["a"])([f["a"]],b);var h=b,E=h,L=(a("7a58"),a("2877")),m=Object(L["a"])(E,p,v,!1,null,"74a4cba3",null),g=m.exports,_=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(f["b"]);_=Object(d["a"])([Object(f["a"])({components:{SiteNavigation:g}})],_);var O=_,I=O,y=(a("5c0b"),Object(L["a"])(I,o,c,!1,null,null,null)),S=y.exports,j=a("8c4f"),k=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},F=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home grid"},[a("div",{staticClass:"site-title"},[e._v("Home")]),a("div",{staticClass:"site-description"},[e._v("Use the above navbar to choose if you want to submit an image or a video. After that, click on the button to properly select a file. You will se a preview of the file. Click again the button to upload the file to the server and wait (it could take a lot) until the server will respound and the analyzed file downloaded.")])])}],C=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(f["b"]);C=Object(d["a"])([f["a"]],C);var U=C,w=U,D=(a("1012"),Object(L["a"])(w,k,F,!1,null,"99a88a02",null)),T=D.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submit-image"},[a("div",{staticClass:"site-title"},[e._v("Submit image")]),e.state===e.State.FILE_SELECTING?a("div",{staticClass:"site-placeholder placeholder",on:{click:e.selectFile}},[e._v("+")]):a("img",{staticClass:"image",attrs:{src:e.objectUrl}}),a("vs-button",{staticClass:"button",attrs:{size:"large"},on:{click:e.buttonClicked}},[e._v(e._s(e.buttonText))]),a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",accept:"image/jpeg"},on:{change:function(t){return e.fileSelected(t)}}})],1)},x=[],G=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),A=a("bee2"),M=a("bc3a"),N=a.n(M),B=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.State=i,e.state=i.FILE_SELECTING,e.file=null,e.objectUrl=null,e.loadingObject=null,e}return Object(A["a"])(a,[{key:"fileSelected",value:function(e){var t=e.target;t.files&&t.files[0]&&(this.file=t.files[0],this.objectUrl="".concat(URL.createObjectURL(this.file)),this.state=i.FILE_SELECTED)}},{key:"downloadBlob",value:function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.setAttribute("download","image.jpg"),document.body.appendChild(a),a.click()}},{key:"startLoadingSpinner",value:function(){this.loadingObject=this.$vs.loading({type:"circles",scale:"2",background:"#ffffffC1",opacity:1,color:"primary",text:"Uploading"})}},{key:"stopLoadingSpinner",value:function(){this.loadingObject.close()}},{key:"buttonClicked",value:function(){switch(this.state){case i.FILE_SELECTING:this.selectFile();break;case i.FILE_SELECTED:this.uploadFile();break}}},{key:"selectFile",value:function(){var e=this.$refs.file;e.click()}},{key:"uploadFile",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.state===i.FILE_UPLOADING){e.next=22;break}return e.prev=1,this.state=i.FILE_UPLOADING,this.startLoadingSpinner(),t=new FormData,t.append("image",this.file),e.next=8,N.a.post("http://localhost:5000/api/image",t,{responseType:"blob"});case 8:a=e.sent.data,this.state=i.FILE_UPLOADED,this.downloadBlob(a),e.next=19;break;case 13:e.prev=13,e.t0=e["catch"](1),this.state=i.FILE_SELECTED,alert("Errore nel server: ".concat(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)),console.error(e.t0),console.error(null===e.t0||void 0===e.t0?void 0:e.t0.response);case 19:return e.prev=19,this.stopLoadingSpinner(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,13,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"buttonText",get:function(){switch(this.state){case i.FILE_SELECTING:return"Select an image";case i.FILE_SELECTED:return"Upload the image";case i.FILE_UPLOADING:return"Uploading the image";case i.FILE_UPLOADED:return"Image uploaded!!!"}}},{key:"loading",get:function(){return this.state===i.FILE_UPLOADING}}]),a}(f["b"]);B=Object(d["a"])([f["a"]],B);var R=B,$=R,H=(a("073a"),Object(L["a"])($,P,x,!1,null,"714f42f0",null)),V=H.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"submit-video"},[a("div",{staticClass:"site-title"},[e._v("Submit Video")]),e.state===e.State.FILE_SELECTING?a("div",{staticClass:"site-placeholder placeholder",on:{click:e.selectFile}},[e._v("+")]):a("video",{ref:"video",staticClass:"video",attrs:{controls:""}},[a("source",{attrs:{src:e.objectUrl,type:e.file.type}})]),a("vs-button",{staticClass:"button",attrs:{size:"large"},on:{click:e.buttonClicked}},[e._v(e._s(e.buttonText))]),a("input",{ref:"file",staticClass:"input-file",attrs:{type:"file",accept:"video/mp4"},on:{change:function(t){return e.fileSelected(t)}}})],1)},J=[],Y=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.State=i,e.state=i.FILE_SELECTING,e.file=null,e.objectUrl=null,e.loadingObject=null,e}return Object(A["a"])(a,[{key:"fileSelected",value:function(e){var t=e.target;t.files&&t.files[0]&&(this.file=t.files[0],this.objectUrl="".concat(URL.createObjectURL(this.file)),this.state=i.FILE_SELECTED)}},{key:"downloadBlob",value:function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.setAttribute("download","video.mp4"),document.body.appendChild(a),a.click()}},{key:"startLoadingSpinner",value:function(){this.loadingObject=this.$vs.loading({type:"circles",scale:"2",background:"#ffffffC1",opacity:1,color:"primary",text:"Uploading"})}},{key:"stopLoadingSpinner",value:function(){this.loadingObject.close()}},{key:"buttonClicked",value:function(){switch(this.state){case i.FILE_SELECTING:this.selectFile();break;case i.FILE_SELECTED:this.uploadFile();break}}},{key:"selectFile",value:function(){var e=this.$refs.file;e.click()}},{key:"uploadFile",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.state===i.FILE_UPLOADING){e.next=22;break}return e.prev=1,this.state=i.FILE_UPLOADING,this.startLoadingSpinner(),t=new FormData,t.append("video",this.file),e.next=8,N.a.post("http://localhost:5000/api/video",t,{responseType:"blob"});case 8:a=e.sent.data,this.state=i.FILE_UPLOADED,this.downloadBlob(a),e.next=19;break;case 13:e.prev=13,e.t0=e["catch"](1),this.state=i.FILE_SELECTED,alert("Errore nel server: ".concat(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)),console.error(e.t0),console.error(null===e.t0||void 0===e.t0?void 0:e.t0.response);case 19:return e.prev=19,this.stopLoadingSpinner(),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,13,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"buttonText",get:function(){switch(this.state){case i.FILE_SELECTING:return"Select a video";case i.FILE_SELECTED:return"Upload the video";case i.FILE_UPLOADING:return"Uploading the video";case i.FILE_UPLOADED:return"Video uploaded!!!"}}},{key:"loading",get:function(){return this.state===i.FILE_UPLOADING}}]),a}(f["b"]);Y=Object(d["a"])([f["a"]],Y);var q=Y,K=q,Q=(a("2a3e"),Object(L["a"])(K,z,J,!1,null,"bf223760",null)),W=Q.exports;r["default"].use(j["a"]);var X=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:T},{path:"/submit-image",name:"submit-image",component:V},{path:"/submit-video",name:"submit-video",component:W}],Z=new j["a"]({mode:"history",base:"/",routes:X}),ee=Z,te=a("574d"),ae=a.n(te);a("04f2");r["default"].use(ae.a),new r["default"]({router:ee,render:function(e){return e(S)}}).$mount("#app")},e83c:function(e,t,a){},ea6f:function(e,t,a){}});
//# sourceMappingURL=app-legacy.7fb6d927.js.map